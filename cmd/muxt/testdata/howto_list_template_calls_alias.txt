# Tests calls alias for list-template-calls command

muxt calls
stdout 'template "layout" calls:'

-- go.mod --
module server

go 1.22
-- template.go --
package server

import (
	"embed"
	"html/template"
	"io"
)

//go:embed *.gohtml
var templateSource embed.FS

var templates = template.Must(template.ParseFS(templateSource, "*"))

type T struct{}

func init() {
	_ = templates.ExecuteTemplate(io.Discard, "layout", T{})
}

-- page.gohtml --
{{define "GET / Page()"}}
{{template "layout" .}}
{{end}}

-- layout.gohtml --
{{define "layout"}}
<!DOCTYPE html>
<html>
{{template "header" .}}
<body>
{{template "footer"}}
</body>
</html>
{{end}}

-- header.gohtml --
{{define "header"}}
<head><title>Title</title></head>
{{end}}

-- footer.gohtml --
{{define "footer"}}
<footer>Copyright</footer>
{{end}}
